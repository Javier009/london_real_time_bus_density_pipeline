main:
    steps:
        - wait_before_next_iteration:
            call: sys.sleep
            args:
                seconds: 25
            next: run_bus_arrivals_process

        - run_bus_arrivals_process:
            call: http.post
            args:
                url: https://us-central1-run.googleapis.com/apis/run.googleapis.com/v1/namespaces/lon-trans-streaming-pipeline/jobs/bus-density-image:run
                auth:
                    type: OAuth2
                headers:
                    Content-Type: application/json
                body: {}
            result: jobRunResult
